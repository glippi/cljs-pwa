{"version":3,"sources":["starter/browser.cljs"],"mappings":";AAKA,GAAA,QAAAA,oCAAAC,4CAAAC;AAAA;AAAA,AAAA,AAASC,iCAAe,gDAAA,hDAACC;;AAEzB,2CAAA,3CAAMC;AAAN,AACE,mBAAA,AAAAC,fAAMC,+BAAcJ;AAApB,AACE,oBAAMI;AAAN,AAAA,0FAAA,yDAAA,2CAAA,uDAAA,2CAAA,gEAAA,OAAA,2DAAA,OAAA,sEAAA,cAAA,6DAAA;AAAA,AAIuB,AAAI,AAASA;;AACT,4DAAA,rDAACC,sBAAOL;WALnC;;AAAA;;;AAQJ,sBAAA,tBAAMM;AAAN,AAAA,0FAAA,iDAAA,qHAAA,lCAEIC,qHACAL;;AAGJ,wBAAA,xBAAuBM;AAAvB,AACE,YAAA,ZAACC;;AACD,wBAAA,xBACCC,8CAEA,WAAKC;AAAL,AACE,AAAiBA;;AACjB,OAACN,sBAAOL,+BAAeW;;;AAE1B,wDAAA,jDAACC,oIAAaN,4BACD,wBAAA,xBAAiBO;;AAEhC,uBAAA,vBAAMC;AAAN,AAIE,YAAA,ZAACL;;AACD,OAACD;;AAGH,uBAAA,vBAAwBO;AAAxB,AACE,mBAAA,ZAACN","names":["js/starter","js/starter.browser","js/starter.browser.install-prompt","starter.browser/install-prompt","reagent.core.atom","starter.browser/install-prompt-component","cljs.core/deref","prompt-event","cljs.core/reset!","starter.browser/app","starter.bmi/bmi-component","starter.browser/start","js/console.log","js/window","e","reagent.dom.render","js/document","starter.browser/init","starter.browser/stop"],"sourcesContent":["(ns starter.browser\n  (:require [reagent.core :as r]\n            [reagent.dom :as rdom]\n            [starter.bmi :refer [bmi-component]]))\n\n(defonce install-prompt (r/atom nil))\n\n(defn install-prompt-component []\n  (let [prompt-event @install-prompt]\n    (when prompt-event\n      [:button {:style {:margin-top \"30px\"\n                        :padding \"10px\"\n                        :border-radius \"5px\"}\n                :on-click #(do (.prompt prompt-event)\n                               (reset! install-prompt nil))}\n       \"Install the BMI calculator!\"])))\n\n(defn app []\n  [:<>\n   [bmi-component]\n   [install-prompt-component]])\n\n;; start is called by init and after code reloading finishes\n(defn ^:dev/after-load start []\n  (js/console.log \"start\")\n  (.addEventListener\n   js/window\n   \"beforeinstallprompt\"\n   (fn [e]\n     (.preventDefault e)         ;; Prevent the mini-infobar from appearing on mobile\n     (reset! install-prompt e)))\n\n  (rdom/render [app]\n               (.getElementById js/document \"app\")))\n\n(defn init []\n  ;; init is called ONCE when the page loads\n  ;; this is called in the index.html and must be exported\n  ;; so it is available even in :advanced release builds\n  (js/console.log \"init\")\n  (start))\n\n;; this is called before any code is reloaded\n(defn ^:dev/before-load stop []\n  (js/console.log \"stop\"))\n"]}